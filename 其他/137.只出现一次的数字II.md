# 137.只出现一次的数字 II

## 题目

给定一个非空整数数组，除了某个元素只出现一次以外，其余每个元素均出现了三次。找出那个只出现了一次的元素。

说明：

你的算法应该具有线性时间复杂度。 你可以不使用额外空间来实现吗？

    示例 1:
    输入: [2,2,3,2]
    输出: 3

    示例 2:
    输入: [0,1,0,1,0,1,99]
    输出: 99

## 方法（位运算）
把每一个整数考虑成长度为32位的二进制数。我们累计这32位中每一位上1出现的次数。由于数组中除一个元素外，其他元素都出现了三次。所以每一位上1出现的次数只能是3的倍数或者是3的倍数+1。因此对这个次数模3后就是只出现一次的那个数在该位上的值（1或0）。

## 代码
```java
public int singleNumber(int[] nums) {
    int res = 0;
    for(int i = 0; i < 32; i++){
        //count用来统计第i位上出现了多少次1
        int count = 0;
        for(int num: nums){
            count += (num >> i) & 1;  //右边为num的第i位上的值
        }
        //count % 3只能是0或1
        //通过异或操作将num的第i位上的值设置好
        res ^= (count % 3) << i;
    }
    return res;
}
```
注：对于异或操作：
* 任何一个数字异或0的结果都是这个数字本身
* 两个相同的数字异或的结果为0